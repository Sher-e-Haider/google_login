{"ast":null,"code":"import _asyncToGenerator from\"/Users/sahilraza/Documents/REACT/TRIEL/googleLogin_with basir/gogapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sahilraza/Documents/REACT/TRIEL/googleLogin_with basir/gogapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/sahilraza/Documents/REACT/TRIEL/googleLogin_with basir/gogapp/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import'./App.css';import{GoogleLogin}from'react-google-login';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(localStorage.getItem('loginData')?JSON.parse(localStorage.getItem('loginData')):null),_useState2=_slicedToArray(_useState,2),loginData=_useState2[0],setLoginData=_useState2[1];var handleFailure=function handleFailure(res){alert(res);};var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(googleData){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/api/google-login',{method:'POST',body:JSON.stringify({token:googleData.tokenId}),headers:{'Content-Type':'application/json'}});case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;setLoginData(data);localStorage.setItem('loginData',JSON.stringify(data));case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleLogin(_x){return _ref.apply(this,arguments);};}();var handleLogout=function handleLogout(){localStorage.removeItem('loginData');setLoginData(null);};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"React Google Login App\"}),/*#__PURE__*/_jsx(\"div\",{children:loginData?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"You logged in as \",loginData.email]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Logout\"})]}):/*#__PURE__*/_jsx(GoogleLogin,{clientId:process.env.REACT_APP_GOOGLE_CLIENT_ID,buttonText:\"Log in with google\",onSuccess:handleLogin,onFailure:handleFailure})})]})});}export default App;","map":{"version":3,"sources":["/Users/sahilraza/Documents/REACT/TRIEL/googleLogin_with basir/gogapp/src/App.js"],"names":["React","useState","GoogleLogin","App","localStorage","getItem","JSON","parse","loginData","setLoginData","handleFailure","res","alert","handleLogin","googleData","fetch","method","body","stringify","token","tokenId","headers","json","data","setItem","handleLogout","removeItem","email","process","env","REACT_APP_GOOGLE_CLIENT_ID"],"mappings":"idAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,KAA6B,OAA7B,CACA,MAAO,WAAP,CACA,OAASC,WAAT,KAA4B,oBAA5B,C,wFAIA,QAASC,CAAAA,GAAT,EAAe,CACb,cAAiCF,QAAQ,CACvCG,YAAY,CAACC,OAAb,CAAqB,WAArB,EACIC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CADJ,CAEG,IAHoC,CAAzC,wCAAOG,SAAP,eAAiBC,YAAjB,eAMA,GAAMC,CAAAA,aAAa,CAAC,QAAdA,CAAAA,aAAc,CAACC,GAAD,CAAO,CACvBC,KAAK,CAACD,GAAD,CAAL,CACH,CAFD,CAGA,GAAME,CAAAA,WAAW,0FAAC,iBAAMC,UAAN,qJACKC,CAAAA,KAAK,CAAC,mBAAD,CAAqB,CAC1CC,MAAM,CAAC,MADmC,CAE1CC,IAAI,CAAEX,IAAI,CAACY,SAAL,CAAe,CACnBC,KAAK,CAACL,UAAU,CAACM,OADE,CAAf,CAFoC,CAK1CC,OAAO,CAAC,CACN,eAAe,kBADT,CALkC,CAArB,CADV,QACPV,GADO,qCAUMA,CAAAA,GAAG,CAACW,IAAJ,EAVN,QAUPC,IAVO,eAWbd,YAAY,CAACc,IAAD,CAAZ,CACAnB,YAAY,CAACoB,OAAb,CAAqB,WAArB,CAAiClB,IAAI,CAACY,SAAL,CAAeK,IAAf,CAAjC,EAZa,sDAAD,kBAAXV,CAAAA,WAAW,4CAAjB,CAcA,GAAMY,CAAAA,YAAY,CAAC,QAAbA,CAAAA,YAAa,EAAI,CACrBrB,YAAY,CAACsB,UAAb,CAAwB,WAAxB,EACAjB,YAAY,CAAC,IAAD,CAAZ,CACD,CAHD,CAIA,mBACE,YAAK,SAAS,CAAC,KAAf,uBACE,gBAAQ,SAAS,CAAC,YAAlB,wBACC,8CADD,cAEC,qBAEID,SAAS,cACP,oCACE,0CAAsBA,SAAS,CAACmB,KAAhC,GADF,cAEE,eAAQ,OAAO,CAAEF,YAAjB,oBAFF,GADO,cAON,KAAC,WAAD,EACQ,QAAQ,CAAEG,OAAO,CAACC,GAAR,CAAYC,0BAD9B,CAEQ,UAAU,CAAC,oBAFnB,CAGQ,SAAS,CAAEjB,WAHnB,CAIQ,SAAS,CAAEH,aAJnB,EATP,EAFD,GADF,EADF,CA8BD,CAED,cAAeP,CAAAA,GAAf","sourcesContent":["import React,{useState} from 'react'\nimport './App.css';\nimport { GoogleLogin } from 'react-google-login'\n\n\n\nfunction App() {\n  const [loginData,setLoginData] = useState(\n    localStorage.getItem('loginData')\n      ? JSON.parse(localStorage.getItem('loginData'))\n      :null\n  );\n  \n  const handleFailure=(res)=>{\n      alert(res)\n  }\n  const handleLogin=async(googleData)=>{\n       const res = await fetch('/api/google-login',{\n         method:'POST',\n         body: JSON.stringify({\n           token:googleData.tokenId,\n         }),\n         headers:{\n           'Content-Type':'application/json'\n         }\n       })\n       const data = await res.json()\n       setLoginData(data)\n       localStorage.setItem('loginData',JSON.stringify(data))\n  }\n  const handleLogout=()=>{\n    localStorage.removeItem('loginData')\n    setLoginData(null)\n  }\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n       <h1>React Google Login App</h1>\n       <div>\n         {\n           loginData?(\n             <div>\n               <h3>You logged in as {loginData.email}</h3>\n               <button onClick={handleLogout} >Logout</button>\n             </div>\n              \n           ):(\n              <GoogleLogin \n                      clientId={process.env.REACT_APP_GOOGLE_CLIENT_ID}\n                      buttonText=\"Log in with google\"\n                      onSuccess={handleLogin}\n                      onFailure={handleFailure}\n                     \n                    >\n              </GoogleLogin> \n           )\n         }\n        \n       </div>\n       \n       </header>\n    \n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}